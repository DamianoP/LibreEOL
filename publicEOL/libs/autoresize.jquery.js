/*!
 * jQuery Textarea Auto-Resize Plugin
 * http://www.beansandcurry.com/
 *
 * Copyright 2012, Beans & Curry
 * Released under the MIT License
 */
(function($){$.fn.autoresize=function(options){var settings=$.extend({debug:false,},options),styles=["font-family","font-size","font-weight","font-style","letter-spacing","text-transform","word-spacing","text-indent","line-height","padding-top","padding-bottom"];function textarea2div(text){var breakTag="<br />";return(text+"<br />~").replace(/([^>\r\n]?)(\r\n|\n\r|\r|\n)/g,"$1"+breakTag+"$2");}return this.each(function(){var $this=$(this),mirror=$("<div></div>");$this.css("overflow","hidden");$.each(styles,function(index,property){mirror.css(property,$this.css(property));});mirror.css({"word-wrap":"break-word",position:"absolute",height:"auto",width:$this.width()});if(settings.debug===false){mirror.css({top:"-999em",left:"-999em"});}else{mirror.css({top:"10px",left:"10px"});}mirror.html(textarea2div($this.val()));$("body").append(mirror);$this.height(mirror.height());$this.bind("textchange",function(){mirror.html(textarea2div($this.val()));$this.height(mirror.height());});});};$.event.special.textchange={setup:function(data,namespaces){$(this).data("lastValue",this.contentEditable==="true"?$(this).html():$(this).val());$(this).bind("keyup.textchange",$.event.special.textchange.handler);$(this).bind("cut.textchange paste.textchange input.textchange",$.event.special.textchange.delayedHandler);},teardown:function(namespaces){$(this).unbind(".textchange");},handler:function(event){$.event.special.textchange.triggerIfChanged($(this));},delayedHandler:function(event){var element=$(this);setTimeout(function(){$.event.special.textchange.triggerIfChanged(element);},25);},triggerIfChanged:function(element){var current=element[0].contentEditable==="true"?element.html():element.val();if(current!==element.data("lastValue")){element.trigger("textchange",[element.data("lastValue")]);element.data("lastValue",current);}}};})(jQuery);